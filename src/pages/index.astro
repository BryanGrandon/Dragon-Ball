---
import Layout from '../layouts/Layout.astro'
import { type APIDragonBallResponse } from '../types/api'

const response = await fetch('https://dragonball-api.com/api/characters?limit=12')
const { items, links } = (await response.json()) as APIDragonBallResponse
---

<Layout>
  <header>
    <h1>Dragon Ball</h1>
  </header>
  <main>
    <article>
      <h2>Characters</h2>
      <section class='grid grid-cols-3 gap-4'>
        {
          items.map((character) => (
            <div class='character'>
              <img src={character.image} alt={character.name} class='h-50' />
              <h3>{character.name}</h3>
            </div>
          ))
        }
        {
          items.map((character) => (
            <div class='character'>
              <img src={character.image} alt={character.name} class='h-50' />
              <h3>{character.name}</h3>
            </div>
          ))
        }
      </section>
    </article>
    <button id='btn' class='border border-red-500 border-solid'>{links.next}</button>
  </main>
</Layout>
